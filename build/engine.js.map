{"version":3,"file":"engine.js","sourceRoot":"","sources":["../src/engine.tsx"],"names":[],"mappings":"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"}